package com.his.dto;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.Data;

import java.io.Serializable;
import java.time.LocalDate;

/**
 * 护士工作站查询参数数据传输对象
 *
 * <p>用于护士工作站的挂号患者信息查询和筛选，支持多维度条件组合查询</p>
 *
 * <h3>主要功能</h3>
 * <ul>
 *   <li><b>患者查询</b>：按日期、科室、状态等条件查询待就诊患者</li>
 *   <li><b>信息筛选</b>：支持多条件组合查询，灵活筛选目标患者</li>
 *   <li><b>工作管理</b>：帮助护士管理就诊流程，了解当前就诊状态</li>
 *   <li><b>模糊检索</b>：支持通过姓名或挂号号进行模糊查询</li>
 * </ul>
 *
 * <h3>使用场景</h3>
 * <ul>
 *   <li><b>护士分诊</b>：护士查看当天挂号患者，进行分诊安排</li>
 *   <li><b>就诊管理</b>：实时跟踪患者就诊状态（待诊、就诊中、已诊）</li>
 *   <li><b>工作量统计</b>：按科室统计每日就诊人数和类型</li>
 *   <li><b>患者检索</b>：快速查找特定患者的挂号信息</li>
 * </ul>
 *
 * <h3>验证规则</h3>
 * <ul>
 *   <li><b>必填字段</b>：所有字段均为可选，可单独或组合使用</li>
 *   <li><b>格式验证</b>：日期字段需符合ISO日期格式（yyyy-MM-dd）</li>
 *   <li><b>业务验证</b>：科室ID如提供必须存在，状态值需在枚举范围内</li>
 *   <li><b>默认行为</b>：不传任何参数则查询所有数据</li>
 * </ul>
 *
 * <h3>查询说明</h3>
 * <ul>
 *   <li>所有条件为"且"关系，即同时满足所有条件</li>
 *   <li>不传某个字段表示不对该字段进行过滤</li>
 *   <li>关键字支持模糊匹配，查询姓名或挂号号包含该字串的记录</li>
 * </ul>
 *
 * @author HIS 开发团队
 * @version 1.0
 * @since 1.0
 */
@Data
@Schema(description = "护士工作站查询参数对象")
public class NurseWorkstationDTO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 就诊日期
     *
     * <p>患者挂号就诊的日期，用于查询特定日期的就诊记录</p>
     *
     * <p><b>验证规则：</b></p>
     * <ul>
     *   <li><b>必填程度</b>：可选字段</li>
     *   <li><b>格式要求</b>：ISO 8601日期格式（yyyy-MM-dd）</li>
     *   <li><b>业务规则</b>：不传则默认查询当天的挂号记录</li>
     *   <li><b>取值范围</b>：不能查询未来日期</li>
     * </ul>
     *
     * <p><b>示例</b>：2023-12-01、2024-01-15</p>
     *
     * <p><b>使用说明</b>：</p>
     * <ul>
     *   <li>不传该字段：查询当天（系统当前日期）的挂号</li>
     *   <li>传入具体日期：查询指定日期的挂号</li>
     *   <li>可用于历史数据查询和统计</li>
     * </ul>
     */
    @Schema(description = "就诊日期（不传默认当天）", example = "2023-12-01", type = "string", format = "date")
    private LocalDate visitDate;

    /**
     * 科室ID
     *
     * <p>挂号就诊的科室唯一标识，用于按科室筛选患者</p>
     *
     * <p><b>验证规则：</b></p>
     * <ul>
     *   <li><b>必填程度</b>：可选字段</li>
     *   <li><b>格式要求</b>：必须为有效的长整型数值</li>
     *   <li><b>业务规则</b>：如提供则必须对应系统中已存在的科室</li>
     *   <li><b>数据约束</b>：科室必须为有效状态（未停用）</li>
     * </ul>
     *
     * <p><b>示例</b>：1（内科）、10（外科）</p>
     *
     * <p><b>使用说明</b>：</p>
     * <ul>
     *   <li>不传该字段：查询所有科室的挂号记录</li>
     *   <li>传入科室ID：仅查询该科室的挂号记录</li>
     *   <li>通常用于特定科室护士查看本科室患者</li>
     * </ul>
     */
    @Schema(description = "科室ID（不传查询所有科室）", example = "10")
    private Long departmentId;

    /**
     * 挂号状态
     *
     * <p>患者的就诊状态，用于筛选不同阶段的就诊记录</p>
     *
     * <p><b>状态说明：</b></p>
     * <ul>
     *   <li><b>0 - 待就诊</b>：患者已挂号，尚未就诊，在候诊区等待</li>
     *   <li><b>1 - 已就诊</b>：患者已完成医生诊疗，医生已开具病历和处方</li>
     *   <li><b>2 - 已取消</b>：挂号已取消，患者未就诊</li>
     * </ul>
     *
     * <p><b>验证规则：</b></p>
     * <ul>
     *   <li><b>必填程度</b>：可选字段</li>
     *   <li><b>取值范围</b>：0、1、2</li>
     *   <li><b>业务规则</b>：状态值必须在定义的枚举范围内</li>
     * </ul>
     *
     * <p><b>使用说明</b>：</p>
     * <ul>
     *   <li>不传该字段：查询所有状态的挂号记录</li>
     *   <li>传0：查询待就诊患者（候诊管理）</li>
     *   <li>传1：查询已就诊患者（统计工作量）</li>
     *   <li>传2：查询已取消挂号（数据统计）</li>
     * </ul>
     */
    @Schema(description = "挂号状态（0=待就诊, 1=已就诊, 2=已取消，不传查询所有状态）", example = "0")
    private Short status;

    /**
     * 就诊类型
     *
     * <p>患者的就诊性质，区分初诊、复诊和急诊</p>
     *
     * <p><b>类型说明：</b></p>
     * <ul>
     *   <li><b>1 - 初诊</b>：患者首次就诊或新发疾病就诊</li>
     *   <li><b>2 - 复诊</b>：同一疾病的后续随访和治疗</li>
     *   <li><b>3 - 急诊</b>：紧急医疗情况，需要立即处理</li>
     * </ul>
     *
     * <p><b>验证规则：</b></p>
     * <ul>
     *   <li><b>必填程度</b>：可选字段</li>
     *   <li><b>取值范围</b>：1、2、3</li>
     *   <li><b>业务规则</b>：类型值必须在定义的范围内</li>
     * </ul>
     *
     * <p><b>使用说明</b>：</p>
     * <ul>
     *   <li>不传该字段：查询所有类型的挂号</li>
     *   <li>传1：仅查询初诊患者</li>
     *   <li>传2：仅查询复诊患者</li>
     *   <li>传3：仅查询急诊患者（急诊科管理）</li>
     * </ul>
     */
    @Schema(description = "就诊类型（1=初诊, 2=复诊, 3=急诊，不传查询所有类型）", example = "1")
    private Short visitType;

    /**
     * 关键字
     *
     * <p>患者姓名或挂号号的模糊查询关键字，支持快速检索特定患者</p>
     *
     * <p><b>验证规则：</b></p>
     * <ul>
     *   <li><b>必填程度</b>：可选字段</li>
     *   <li><b>格式要求</b>：文本格式，建议不超过50字符</li>
     *   <li><b>查询方式</b>：模糊匹配，支持部分字串查询</li>
     *   <li><b>匹配范围</b>：患者姓名、挂号号</li>
     * </ul>
     *
     * <p><b>使用说明</b>：</p>
     * <ul>
     *   <li>不传该字段：不过滤姓名或挂号号</li>
     *   <li>传入"张三"：查询姓名或挂号号包含"张三"的记录</li>
     *   <li>常用于快速定位特定患者</li>
     *   <li>支持姓名部分匹配（如"张"可匹配"张三"、"张四"）</li>
     * </ul>
     *
     * <p><b>示例</b>：</p>
     * <ul>
     *   <li>患者姓名：张三、李四</li>
     *   <li>挂号号：GZ20231201001</li>
     *   <li>关键字：20231201（可匹配该日期的挂号号）</li>
     * </ul>
     */
    @Schema(description = "患者姓名或挂号号模糊查询", example = "张三")
    private String keyword;
}
